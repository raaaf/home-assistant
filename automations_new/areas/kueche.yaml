# Areas - Kueche.Yaml
# Generated by automation splitter - 5 automations
# Part of Home Assistant configuration

- id: '1664992050125'
  alias: Scenen » Küche
  description: Aktiviert spezielle Küchenbeleuchtung für Kochmodus
  trigger:
  - entity_id:
    - input_boolean.kochen
    to: 'on'
    id: 'on'
    trigger: state
  - entity_id:
    - input_boolean.kochen
    to: 'off'
    id: 'off'
    trigger: state
  condition: []
  action:
  - choose:
    - conditions:
      - condition: trigger
        id: 'on'
      sequence:
      - action: adaptive_lighting.change_switch_settings
        target:
          entity_id: switch.adaptive_lighting_kueche
        data:
          max_brightness: 100
          min_brightness: 50
      - alias: "Deaktiviere Motion-Automationen"
        action: script.scene_disable_motion_automations
        data:
          automations: "automation.motion_kuche_2"
      - action: light.turn_on
        target:
          entity_id:
          - light.alle_kuche_lichter
          - light.alle_kuche_nachtlichter
        data:
          brightness_pct: 90
          transition: 2
    - conditions:
      - condition: trigger
        id: 'off'
      sequence:
      - action: light.turn_off
        data:
          transition: 5
        target:
          entity_id:
          - light.alle_kuche_lichter
          - light.alle_kuche_nachtlichter
      - delay:
          seconds: 6
      - alias: "Reset kitchen adaptive lighting settings to default"
        action: adaptive_lighting.change_switch_settings
        target:
          entity_id: switch.adaptive_lighting_kueche
        data:
          max_brightness: 100
          min_brightness: 10
      - alias: "Re-enable Adaptive Lighting with conflict check"
        action: script.scene_enable_adaptive_lighting
        data:
          room: "kueche"
          exclude_scenes: "movie,party,party_wohnzimmer"
      - alias: "Reaktiviere Motion-Automationen mit Konflikt-Prüfung"
        action: script.scene_enable_motion_automations
        data:
          automations: "automation.motion_kuche_2"
          exclude_scenes: "movie,party,party_wohnzimmer"
    default: []
  mode: restart
- id: '1672931243226'
  alias: Motion » Küche
  description: Bewegungsgesteuerte Beleuchtung in der Küche mit Nachtlicht-Modus und
    Kochmodus-Bypass
  use_blueprint:
    path: Blackshome/sensor-light.yaml
    input:
      motion_trigger:
      - binary_sensor.kuche_motion_occupancy
      light_switch:
        entity_id: light.alle_kuche_lichter
      include_night_lights: night_lights_enabled
      night_lights:
        entity_id: light.alle_kuche_nachtlichter
      night_lights_after_time: '22:00:00'
      night_lights_before_time: 06:00:00
      night_time_delay: 1
      time_delay: 1
      include_ambient: ambient_enabled
      ambient_light_sensor: sensor.balkon_motion_illuminance_safe
      ambient_light_options: ambient_light_option_disabled
      ambient_light_value: 150
      include_time: time_disabled
      after_time: 06:00:00
      before_time: '22:00:00'
      night_lights_conditions:
      - time_enabled
      night_lights_entity_state:
      - input_boolean.schlafenszeit
      include_sun: sun_disabled
      include_night_light_control:
      - use_brightness
      ambient_light_high_value: 200
      motion_bypass_lights_on:
      - input_boolean.kochen
      motion_bypass_lights_off:
      - input_boolean.kochen
      include_bypass:
      - bypass_enabled_turn_on
      - bypass_enabled_stop
      motion_bypass_lights_stop:
      - binary_sensor.kuche_manual_control
      - input_boolean.kochen  # Don't turn off lights while cooking
- id: '1688644812345'
  alias: Wasser » Küche leckt
  description: Überwacht Wassersensor in der Küche und alarmiert bei Leckage
  use_blueprint:
    path: user-x-adm/wasserleck-liste-der-sensoren.yaml
    input:
      sensor:
      - binary_sensor.kuche_wasser_sensor
- id: '1744713615211'
  alias: Scenen » Essen
  description: Aktiviert spezielle Küchenbeleuchtung für Kochmodus
  trigger:
  - entity_id:
    - input_boolean.essen
    to: 'on'
    id: 'on'
    trigger: state
  - entity_id:
    - input_boolean.essen
    to: 'off'
    id: 'off'
    trigger: state
  condition: []
  action:
  - choose:
    - conditions:
      - condition: trigger
        id: 'on'
      sequence:
      - action: adaptive_lighting.change_switch_settings
        target:
          entity_id: switch.adaptive_lighting_wohnzimmer
        data:
          max_brightness: 70
          min_brightness: 20
      - alias: "Deaktiviere Motion-Automationen"
        action: script.scene_disable_motion_automations
        data:
          automations: "automation.motion_esstisch"
      - action: light.turn_on
        metadata: {}
        data:
          brightness_pct: 70
          transition: 2
        target:
          entity_id:
          - light.wohnzimmer_esstisch_1
          - light.wohnzimmer_esstisch_2
          - light.wohnzimmer_esstisch_3
    - conditions:
      - condition: trigger
        id: 'off'
      sequence:
      - action: light.turn_off
        data:
          transition: 5
        target:
          entity_id:
          - light.wohnzimmer_esstisch_1
          - light.wohnzimmer_esstisch_2
          - light.wohnzimmer_esstisch_3
      - delay:
          seconds: 6
      - alias: "Reset living room adaptive lighting settings to default"
        action: adaptive_lighting.change_switch_settings
        target:
          entity_id: switch.adaptive_lighting_wohnzimmer
        data:
          max_brightness: 100
          min_brightness: 10
      - alias: "Re-enable Adaptive Lighting with conflict check"
        action: script.scene_enable_adaptive_lighting
        data:
          room: "wohnzimmer"
          exclude_scenes: "movie,party,party_wohnzimmer"
      - alias: "Reaktiviere Motion-Automationen mit Konflikt-Prüfung"
        action: script.scene_enable_motion_automations
        data:
          automations: "automation.motion_esstisch"
          exclude_scenes: "movie"
    default: []
  mode: restart

- id: '1737900000001'
  alias: Scenen » Abwaschen
  description: Aktiviert Deckenbeleuchtung und Küchengeräte zum Abwaschen
  trigger:
  - entity_id:
    - input_boolean.abwaschen
    to: 'on'
    id: 'on'
    trigger: state
  - entity_id:
    - input_boolean.abwaschen
    to: 'off'
    id: 'off'
    trigger: state
  condition: []
  action:
  - choose:
    - conditions:
      - condition: trigger
        id: 'on'
      sequence:
      - alias: "Deaktiviere Motion-Automation"
        action: script.scene_disable_motion_automations
        data:
          automations: "automation.motion_kuche_2"
      - action: light.turn_on
        target:
          entity_id:
          - light.kuche_decke_1
          - light.kuche_decke_2
        data:
          brightness_pct: 100
          transition: 2
      - action: switch.turn_on
        target:
          entity_id: switch.steckdose_kuechengeraete
    - conditions:
      - condition: trigger
        id: 'off'
      sequence:
      - action: light.turn_off
        data:
          transition: 5
        target:
          entity_id:
          - light.kuche_decke_1
          - light.kuche_decke_2
      - action: switch.turn_off
        target:
          entity_id: switch.steckdose_kuechengeraete
      - delay:
          seconds: 3
      - alias: "Re-enable Adaptive Lighting with conflict check"
        action: script.scene_enable_adaptive_lighting
        data:
          room: "kueche"
          exclude_scenes: "kochen,party,party_wohnzimmer"
      - alias: "Reaktiviere Motion-Automationen mit Konflikt-Prüfung"
        action: script.scene_enable_motion_automations
        data:
          automations: "automation.motion_kuche_2"
          exclude_scenes: "kochen,party,party_wohnzimmer"
    default: []
  mode: restart
